
<div >
    <app-loading *ngIf="loading"> </app-loading> 
   
  </div>
  
  
  <div class="row animated fadeIn slow" *ngIf="!loading">
  
      <p-table  #dt class="pt-2"  tableStyleClass="prime-table" selectionMode="single" [columns]="cols" [value]="elementos"   [(selection)]="selecteditems" columnResizeMode="expand" [responsive]="true"
      scrollHeight="500px" [scrollable]="true"   (onRowSelect)="onRowSelect($event)" >
      <ng-template pTemplate="caption">
        <div class="col-4 input-group input-group-sm ">         
            <label class="mt-1 ml-1 mr-1">Cantidad: </label>
            <input  placeholder="numero" type="number" class="form-control col-md-12 form-control-sm" [(ngModel)]="cantidad" autofocus />        
        
        </div> 
      </ng-template>
        <ng-template pTemplate="header" let-columns >
  
                <tr>
                  <th  *ngFor="let col of columns" [pSortableColumn]="col.field"  [ngStyle]="{'width': col.width}">
                        {{col.header}}
                        <p-sortIcon [field]="col.field" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
                    </th>
                    
                </tr>
                <tr>
                    <th *ngFor="let col of columns" [ngSwitch]="col.field" >
                        <input class="form-control col-md-12 form-control-sm" *ngSwitchCase="'nombre'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)" >
                        <input class="form-control col-md-12 form-control-sm" *ngSwitchCase="'codigo'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">                       
                        <input class="form-control col-md-12 form-control-sm" *ngSwitchCase="'precio'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
                        <input class="form-control col-md-12 form-control-sm" *ngSwitchCase="'tipo_articulo'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
                        
  
                    </th>
                    
                </tr>
            </ng-template>
     
            <ng-template pTemplate="body" let-elementos>
              <tr style="height:20px" [pSelectableRow]="elementos" >
                           <td style="width: 44%">{{elementos.nombre}}</td>
                           <td style="width: 25%">{{elementos.codigo}}</td>
                           <td style="width: 10%">{{elementos.precio}}</td>
                           <td style="width: 20%">{{elementos.tipo_articulo}}</td>                                               
                        </tr>
            </ng-template>
            <ng-template pTemplate="summary">
                <ul>
                   <div class="row float-right mr-2">
                   
                       <h6 class="text-info"> TOTAL : {{total|  number : '1.2-2' }} $</h6>
                   </div>
                 </ul>
             </ng-template> 
        </p-table>
   
  </div>
  
  
    
    